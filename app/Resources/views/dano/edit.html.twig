{% block page_content %}
    {% form_theme edit_form ':widget:fields-block.html.twig' %}
    <a class="btn btn-xs blue btn-outline sbold" data-toggle="modal" href="#edit{{ dano.id }}"> <i class="fa fa-list"></i> Modifier  </a>
    <div class="modal fade" id="edit{{ dano.id }}" tabindex="-1" role="basic" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title">Modifier Dano </h4>
                </div>
                {{ form_start(edit_form, {'attr': {'class':'form', 'role':'form'}}) }}
                <div class="modal-body">
                    <div class="form-body">
                        <div class="row">
                            <div class="col-md-12">{{ form_row(edit_form.activite) }}</div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">{{ form_row(edit_form.numero) }}</div>
                            <div class="col-md-6">{{ form_row(edit_form.destinataire) }}</div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">{{ form_row(edit_form.objet) }}</div>
                            <div class="col-md-6">{{ form_row(edit_form.requete) }}</div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">{{ form_row(edit_form.datereception) }}</div>
                            <div class="col-md-6">{{ form_row(edit_form.beneficiaire) }}</div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">{{ form_row(edit_form.description) }}</div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">{{ form_row(edit_form.observationPTBA) }}</div>
                            <div class="col-md-6">{{ form_row(edit_form.observationPPM) }}</div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">{{ form_row(edit_form.corps) }}</div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">{{ form_row(edit_form.piecejointe) }}</div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn dark btn-outline" data-dismiss="modal">Annuler</button>
                    <button type="submit" class="btn blue">Modifier</button>
                </div>
                {{ form_end(edit_form) }}
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
{% endblock %}

    {% block javascripts %}
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script language="JavaScript">
            jQuery(document).ready(function () {
                jQuery('.add-another-collection-widget').click(function (e) {
                    var list = jQuery(jQuery(this).attr('data-list'));
                    // Try to find the counter of the list
                    var counter = list.data('widget-counter') | list.children().length;
                    // If the counter does not exist, use the length of the list
                    if (!counter) { counter = list.children().length; }
                    // grab the prototype template
                    var newWidget = list.attr('data-prototype');
                    // replace the "__name__" used in the id and name of the prototype
                    // with a number that's unique to your emails
                    // end name attribute looks like name="contact[emails][2]"
                    newWidget = newWidget.replace(/__name__/g, counter);
                    // Increase the counter
                    counter++;
                    // And store it, the length cannot be used if deleting widgets is allowed
                    list.data(' widget-counter', counter);
                    // create a new list element and add it to the list
                    /*var newElem = jQuery(list.attr('data-widget-tags')).html(newWidget);
                    newElem.appendTo(list);*/
                    list.append(newWidget)
                });
            });
        </script>

    {% endblock %}